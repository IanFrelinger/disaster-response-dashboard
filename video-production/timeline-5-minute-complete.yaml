# Complete 5:45 Disaster Response Platform Demo Timeline
# Covers all required content from the extended VO script

total_duration: 345  # 5:45 in seconds

beats:
  # 0:00-0:30 - Introduction & Problem
  - id: intro_problem
    start: 0
    duration: 30
    content: "Hi, I'm Ian Frelinger. When disasters strike, every second counts. Today, emergency teams juggle separate maps, radios and spreadsheets. That fragmentation costs time, coordination and ultimately lives. I built this platform to put everything in one place and help commanders make faster, safer decisions."
    actions:
      - overlay: "intro.fullscreen"
        timing: 0
        duration: 30
      - overlay: "title:Disaster Response Platform"
        timing: 2
        duration: 8
      - overlay: "subtitle:Palantir Building Challenge — Ian Frelinger"
        timing: 10
        duration: 8
      - overlay: "problem:Emergency teams juggle separate maps, radios and spreadsheets"
        timing: 15
        duration: 10
      - overlay: "problem:That fragmentation costs time, coordination and ultimately lives"
        timing: 20
        duration: 10

  # 0:30-1:00 - Users & Value
  - id: users_value
    start: 30
    duration: 30
    content: "This tool serves Incident Commanders, planners and dispatchers. On the Commander Dashboard, commanders set objectives; planners monitor progress; dispatchers update unit statuses. Everyone sees the same source of truth."
    actions:
      - goto: "APP_URL"
        timing: 30
      - click: "text=Commander Dashboard"
        timing: 32
      - overlay: "user_roles:Incident Commanders · Planners · Dispatchers"
        timing: 35
        duration: 8
      - overlay: "value:Commanders set objectives; planners monitor progress"
        timing: 40
        duration: 8
      - overlay: "value:Dispatchers update unit statuses"
        timing: 45
        duration: 8
      - overlay: "value:Everyone sees the same source of truth"
        timing: 50
        duration: 10

  # 1:00-1:45 - Data Flow & API Overview
  - id: data_flow_api
    start: 60
    duration: 45
    content: "Under the hood, we ingest data from NASA FIRMS, NOAA weather, 911 calls, population and traffic feeds. Foundry Functions fuse these feeds onto H3 hexagons (~174 m). We apply a machine‑learning model to predict fire spread over a two‑hour horizon and compute risk polygons. For routing, we use the A Star algorithm to build a hazard‑aware graph and apply vehicle‑specific constraints. The system delivers data via REST and WebSocket APIs—hazards, zones, routes, risk, evacuations, units and public‑safety alerts. This unified back‑end powers dashboards, mobile apps and the AI assistant."
    actions:
      - overlay: "diagram:assets/diagrams/api_data_flow.png"
        timing: 60
        duration: 45
      - overlay: "ingestion:NASA FIRMS, NOAA weather, 911 calls, population, traffic"
        timing: 65
        duration: 8
      - overlay: "processing:H3 hexagons (~174 m), ML fire spread (2h), risk polygons"
        timing: 75
        duration: 10
      - overlay: "routing:A Star algorithm, hazard-aware graph, vehicle constraints"
        timing: 85
        duration: 10
      - overlay: "delivery:REST + WebSocket APIs"
        timing: 95
        duration: 8
      - overlay: "endpoints:hazards, zones, routes, risk, evacuations, units, public-safety"
        timing: 105
        duration: 10

  # 1:45-2:20 - Hazard Detection & Triage
  - id: hazard_triage
    start: 105
    duration: 35
    content: "On the Live Map you can toggle layers—hazards, routes, units, evac zones—and zoom into a cluster. One click on a red marker reveals the hazard's intensity and estimated population at risk. This triage view tells us whether to monitor, shelter or evacuate."
    actions:
      - click: "text=Live Map"
        timing: 105
      - overlay: "layers:hazards, routes, units, evac zones"
        timing: 110
        duration: 8
      - wheel: -120
        timing: 115
      - mouseClick: "740,580"
        timing: 120
      - overlay: "hazard_info:Intensity: High · Population at risk: ~150"
        timing: 125
        duration: 8
      - overlay: "triage:Monitor · Shelter · Evacuate"
        timing: 135
        duration: 10

  # 2:20-2:50 - Zones & Buildings
  - id: zones_buildings
    start: 140
    duration: 30
    content: "Back on the Dashboard, each card represents a zone. The progress bar shows evacuated versus in‑progress or refused buildings. A planner can scroll the building list to see which residents need special assistance and flag refusals so field teams can reattempt later."
    actions:
      - click: "text=Commander Dashboard"
        timing: 140
      - mouseMove: "360,430"
        timing: 145
      - overlay: "zone_card:Zone A - Evacuation Progress"
        timing: 150
        duration: 8
      - overlay: "progress:Evacuated: 45% · In Progress: 35% · Refused: 20%"
        timing: 155
        duration: 8
      - wheel: 120
        timing: 160
      - overlay: "buildings:Special assistance needed, refusals flagged"
        timing: 165
        duration: 10

  # 2:50-3:30 - API Endpoints Deep Dive
  - id: api_endpoints
    start: 170
    duration: 40
    content: "Our back‑end exposes clean endpoints: GET /api/hazards returns a summary, bounding box and risk distribution; GET /api/hazard_zones provides GeoJSON for mapping; POST /api/routes calculates an A Star path with metrics and safety scores; GET /api/risk assesses risk within a spatial buffer; GET /api/evacuations tracks zone‑level progress; GET/PUT /api/units monitors and updates unit status; and GET /api/public_safety delivers multilingual safety messages. All endpoints are backed by Foundry Functions with Input and Output decorators, so the same logic powers dashboards, notifications and our AI assistant."
    actions:
      - overlay: "diagram:assets/diagrams/api_data_flow.png"
        timing: 170
        duration: 40
      - overlay: "endpoint:GET /api/hazards - Summary, bounding box, risk distribution"
        timing: 175
        duration: 6
      - overlay: "endpoint:GET /api/hazard_zones - GeoJSON for mapping"
        timing: 182
        duration: 6
      - overlay: "endpoint:POST /api/routes - A Star path, metrics, safety scores"
        timing: 189
        duration: 6
      - overlay: "endpoint:GET /api/risk - Spatial buffer risk assessment"
        timing: 196
        duration: 6
      - overlay: "endpoint:GET /api/evacuations - Zone-level progress tracking"
        timing: 203
        duration: 6
      - overlay: "endpoint:GET/PUT /api/units - Unit status monitoring"
        timing: 210
        duration: 6
      - overlay: "endpoint:GET /api/public_safety - Multilingual safety messages"
        timing: 217
        duration: 6
      - overlay: "foundry:Foundry Functions with Input/Output decorators"
        timing: 225
        duration: 10

  # 3:30-4:10 - Routing Concept
  - id: routing_concept
    start: 210
    duration: 40
    content: "Although route drawing isn't live yet, conceptually we compute safe paths by penalising road segments near hazards. A civilian profile uses a wide buffer; EMS chooses a balanced trade‑off; fire crews take direct paths; police escorts incorporate convoy rules. Each vehicle type has weight, height and clearance constraints. The result is a route that minimises risk and travel time."
    actions:
      - click: "text=Live Map"
        timing: 210
      - overlay: "route_concept:assets/diagrams/route_concept_overlay.png"
        timing: 215
        duration: 40
      - overlay: "profiles:Civilian (wide buffer) · EMS (balanced) · Fire (direct) · Police (convoy)"
        timing: 225
        duration: 10
      - overlay: "constraints:Weight, height, clearance constraints per vehicle type"
        timing: 235
        duration: 8
      - overlay: "result:Routes that minimize risk and travel time"
        timing: 245
        duration: 10

  # 4:10-4:40 - AI Decision Support
  - id: ai_support
    start: 250
    duration: 30
    content: "In the future, you'll be able to ask, 'What if we lose Highway 30?' The AI assistant will evaluate hazards, unit availability, traffic and population, then recommend the safest alternate route and staging locations. You can accept or adjust the recommendation, keeping the Incident Commander in control."
    actions:
      - overlay: "ai_question:What happens if we lose Highway 30?"
        timing: 250
        duration: 8
      - overlay: "ai_evaluation:Evaluating hazards, units, traffic, population"
        timing: 260
        duration: 8
      - overlay: "ai_recommendation:Evacuate Zone B via Route 3; stage EMS at Oak Ridge. ETA 14m."
        timing: 270
        duration: 12
      - overlay: "ai_control:Accept or adjust recommendation - Commander stays in control"
        timing: 280
        duration: 10

  # 4:40-5:10 - Reliability, Security & Performance
  - id: reliability_security
    start: 280
    duration: 30
    content: "The system uses caching and graceful fallbacks to stay responsive under load. Inputs are validated and strongly typed; roles control write access; all actions are logged for audit. Spatial queries leverage H3 and R‑trees for speed, and the hazard cache invalidates every five minutes. WebSockets push updates to the UI so teams see changes instantly."
    actions:
      - overlay: "reliability:Caching, graceful fallbacks, responsive under load"
        timing: 280
        duration: 8
      - overlay: "security:Input validation, strong typing, role-based access, audit logging"
        timing: 290
        duration: 8
      - overlay: "performance:H3 + R-trees, 5-minute cache invalidation, WebSocket updates"
        timing: 300
        duration: 12

  # 5:10-5:40 - Impact & Call to Action
  - id: impact_conclusion
    start: 310
    duration: 35
    content: "Combining everything into one interface cuts time‑to‑decision by over 40 percent and increases evacuation coordination by 60 percent. By democratising tools once reserved for senior leaders, we free everyone to focus on actions that save lives while keeping commanders at the centre. Thank you for watching. I'd love to discuss pilot projects or next steps."
    actions:
      - overlay: "impact:Time-to-decision: -40% · Evacuation coordination: +60%"
        timing: 310
        duration: 10
      - overlay: "democratization:Tools for everyone, commanders at the center"
        timing: 320
        duration: 8
      - overlay: "focus:Focus on actions that save lives"
        timing: 330
        duration: 8
      - overlay: "conclusion:assets/art/conclusion.png"
        timing: 335
        duration: 35
      - overlay: "contact:Ian Frelinger · contact@... · Pilot projects welcome"
        timing: 340
        duration: 10

# Audio configuration
audio:
  voiceover: "audio/voiceover.wav"
  background_music: null
  duck_level: -9  # dB under voiceover

# Visual configuration
visuals:
  brand_palette:
    primary: "#1e3a8a"
    secondary: "#3b82f6"
    accent: "#06b6d4"
    text: "#ffffff"
    background: "#000000"
  
  transitions:
    fade_duration: 0.8
    overlay_duration: 0.5
    
  typography:
    title_font_size: "2.5rem"
    subtitle_font_size: "1.5rem"
    body_font_size: "1.1rem"
