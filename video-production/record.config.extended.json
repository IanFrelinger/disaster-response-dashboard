{
  "app": {
    "url": "http://localhost:3000",
    "viewport": {
      "width": 1920,
      "height": 1080
    },
    "waitForSelector": "#root",
    "timeout": 30000
  },
  "beats": [
    {
      "id": "intro_problem",
      "duration": 30,
      "actions": [
        "overlay(intro.fullscreen,in,0)",
        "overlay(title:Disaster Response Platform,in,2000)",
        "overlay(subtitle:Palantir Building Challenge — Ian Frelinger,in,10000)",
        "overlay(problem:Emergency teams juggle separate maps, radios and spreadsheets,in,15000)",
        "overlay(problem:That fragmentation costs time, coordination and ultimately lives,in,20000)",
        "wait(5000)",
        "overlay(*,out,800)"
      ]
    },
    {
      "id": "users_value",
      "duration": 30,
      "actions": [
        "goto(APP_URL)",
        "waitForSelector(#root)",
        "click(text=Commander Dashboard)",
        "wait(2000)",
        "overlay(user_roles:Incident Commanders · Planners · Dispatchers,in,0)",
        "wait(3000)",
        "overlay(value:Commanders set objectives; planners monitor progress,in,8000)",
        "wait(3000)",
        "overlay(value:Dispatchers update unit statuses,in,12000)",
        "wait(3000)",
        "overlay(value:Everyone sees the same source of truth,in,16000)",
        "wait(4000)",
        "overlay(*,out,800)"
      ]
    },
    {
      "id": "data_flow_api",
      "duration": 45,
      "actions": [
        "overlay(diagram:assets/diagrams/api_data_flow.png,in,0)",
        "overlay(ingestion:NASA FIRMS, NOAA weather, 911 calls, population, traffic,in,5000)",
        "wait(3000)",
        "overlay(processing:H3 hexagons (~174 m), ML fire spread (2h), risk polygons,in,15000)",
        "wait(3000)",
        "overlay(routing:A Star algorithm, hazard-aware graph, vehicle constraints,in,25000)",
        "wait(3000)",
        "overlay(delivery:REST + WebSocket APIs,in,35000)",
        "wait(3000)",
        "overlay(endpoints:hazards, zones, routes, risk, evacuations, units, public-safety,in,40000)",
        "wait(5000)",
        "overlay(*,out,800)"
      ]
    },
    {
      "id": "hazard_triage",
      "duration": 35,
      "actions": [
        "click(text=Live Map)",
        "wait(1000)",
        "overlay(layers:hazards, routes, units, evac zones,in,0)",
        "wait(3000)",
        "wheel(-120)",
        "wait(1000)",
        "mouseClick(740,580)",
        "wait(1000)",
        "overlay(hazard_info:Intensity: High · Population at risk: ~150,in,0)",
        "wait(3000)",
        "overlay(triage:Monitor · Shelter · Evacuate,in,8000)",
        "wait(7000)",
        "overlay(*,out,800)"
      ]
    },
    {
      "id": "zones_buildings",
      "duration": 30,
      "actions": [
        "click(text=Commander Dashboard)",
        "wait(1000)",
        "mouseMove(360,430)",
        "wait(1000)",
        "overlay(zone_card:Zone A - Evacuation Progress,in,0)",
        "wait(3000)",
        "overlay(progress:Evacuated: 45% · In Progress: 35% · Refused: 20%,in,8000)",
        "wait(3000)",
        "wheel(120)",
        "wait(1000)",
        "overlay(buildings:Special assistance needed, refusals flagged,in,16000)",
        "wait(9000)",
        "overlay(*,out,800)"
      ]
    },
    {
      "id": "api_endpoints",
      "duration": 40,
      "actions": [
        "overlay(diagram:assets/diagrams/api_data_flow.png,in,0)",
        "overlay(endpoint:GET /api/hazards - Summary, bounding box, risk distribution,in,5000)",
        "wait(2000)",
        "overlay(endpoint:GET /api/hazard_zones - GeoJSON for mapping,in,10000)",
        "wait(2000)",
        "overlay(endpoint:POST /api/routes - A Star path, metrics, safety scores,in,15000)",
        "wait(2000)",
        "overlay(endpoint:GET /api/risk - Spatial buffer risk assessment,in,20000)",
        "wait(2000)",
        "overlay(endpoint:GET /api/evacuations - Zone-level progress tracking,in,25000)",
        "wait(2000)",
        "overlay(endpoint:GET/PUT /api/units - Unit status monitoring,in,30000)",
        "wait(2000)",
        "overlay(endpoint:GET /api/public_safety - Multilingual safety messages,in,35000)",
        "wait(2000)",
        "overlay(foundry:Foundry Functions with Input/Output decorators,in,40000)",
        "wait(5000)",
        "overlay(*,out,800)"
      ]
    },
    {
      "id": "routing_concept",
      "duration": 40,
      "actions": [
        "click(text=Live Map)",
        "wait(1000)",
        "overlay(route_concept:assets/diagrams/route_concept_overlay.png,in,0)",
        "wait(5000)",
        "overlay(profiles:Civilian (wide buffer) · EMS (balanced) · Fire (direct) · Police (convoy),in,10000)",
        "wait(5000)",
        "overlay(constraints:Weight, height, clearance constraints per vehicle type,in,20000)",
        "wait(5000)",
        "overlay(result:Routes that minimize risk and travel time,in,30000)",
        "wait(5000)",
        "overlay(*,out,800)"
      ]
    },
    {
      "id": "ai_support",
      "duration": 30,
      "actions": [
        "overlay(ai_question:What happens if we lose Highway 30?,in,0)",
        "wait(3000)",
        "overlay(ai_evaluation:Evaluating hazards, units, traffic, population,in,8000)",
        "wait(3000)",
        "overlay(ai_recommendation:Evacuate Zone B via Route 3; stage EMS at Oak Ridge. ETA 14m.,in,16000)",
        "wait(5000)",
        "overlay(ai_control:Accept or adjust recommendation - Commander stays in control,in,25000)",
        "wait(5000)",
        "overlay(*,out,800)"
      ]
    },
    {
      "id": "reliability_security",
      "duration": 30,
      "actions": [
        "overlay(reliability:Caching, graceful fallbacks, responsive under load,in,0)",
        "wait(3000)",
        "overlay(security:Input validation, strong typing, role-based access, audit logging,in,8000)",
        "wait(3000)",
        "overlay(performance:H3 + R-trees, 5-minute cache invalidation, WebSocket updates,in,16000)",
        "wait(7000)",
        "overlay(*,out,800)"
      ]
    },
    {
      "id": "impact_conclusion",
      "duration": 35,
      "actions": [
        "overlay(impact:Time-to-decision: -40% · Evacuation coordination: +60%,in,0)",
        "wait(5000)",
        "overlay(democratization:Tools for everyone, commanders at the center,in,10000)",
        "wait(5000)",
        "overlay(focus:Focus on actions that save lives,in,18000)",
        "wait(5000)",
        "overlay(conclusion:assets/art/conclusion.png,in,25000)",
        "wait(5000)",
        "overlay(contact:Ian Frelinger · contact@... · Pilot projects welcome,in,30000)",
        "wait(5000)",
        "overlay(*,out,800)"
      ]
    }
  ],
  "recording": {
    "format": "webm",
    "codec": "vp9",
    "quality": "high",
    "fps": 30,
    "audio": false
  }
}
